(this.webpackJsonpcomparator=this.webpackJsonpcomparator||[]).push([[0],{131:function(e,t,c){},132:function(e,t,c){},164:function(e,t){},233:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(25),r=c.n(n),l=(c(131),c(4)),i=(c(132),c(21)),o=c(8),j=c(62),d=c.n(j),b=c(1),u=function(e){var t=e.profile,c=e.setProfile,a=Object(o.f)();return Object(b.jsx)("div",{className:"sticky",children:Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{paddingTop:"0px",paddingBottom:"0px"},children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)(i.b,{className:"navbar-brand",to:"/",style:{color:"white"},children:"Cosmos"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(b.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:Object(b.jsx)("li",{className:"nav-item dropdown"})}),!t&&Object(b.jsx)(i.b,{to:"/User",children:Object(b.jsx)("button",{className:"btn btn-outline-success",type:"submit",style:{color:"white",borderRadius:"10px",margin:"0px",width:"100px"},children:"Signin"})}),t&&Object(b.jsx)("button",{className:"btn btn-outline-success",type:"submit",style:{color:"white",borderRadius:"10px",margin:"0px",width:"100px"},onClick:function(){d.a.get("/credential/user/logout"),c(!1),a.push("/")},children:"Log Out"})]})]})})})},h=function(){return Object(b.jsxs)("div",{id:"carouselExampleCaptions",className:"carousel slide","data-bs-ride":"carousel",children:[Object(b.jsxs)("div",{className:"carousel-indicators",children:[Object(b.jsx)("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),Object(b.jsx)("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"1","aria-label":"Slide 2"}),Object(b.jsx)("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),Object(b.jsxs)("div",{className:"carousel-inner",children:[Object(b.jsxs)("div",{className:"carousel-item active",children:[Object(b.jsx)("img",{src:"/images/background1.jpg",className:"d-block w-100",alt:"..."}),Object(b.jsx)("div",{className:"carousel-caption d-none d-md-block"})]}),Object(b.jsxs)("div",{className:"carousel-item",children:[Object(b.jsx)("img",{src:"/images/background2.jpg",className:"d-block w-100",alt:"..."}),Object(b.jsx)("div",{className:"carousel-caption d-none d-md-block"})]}),Object(b.jsxs)("div",{className:"carousel-item",children:[Object(b.jsx)("img",{src:"/images/background3.jpg",className:"d-block w-100",alt:"..."}),Object(b.jsx)("div",{className:"carousel-caption d-none d-md-block"})]})]}),Object(b.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",children:[Object(b.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(b.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(b.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",children:[Object(b.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(b.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})},x=c(35),O=function(e){var t=Object(a.useState)(null),c=Object(l.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(!0),i=Object(l.a)(r,2),o=i[0],j=i[1],d=Object(a.useState)(null),b=Object(l.a)(d,2),u=b[0],h=b[1],x=new AbortController;return Object(a.useEffect)((function(){return fetch(e,{singal:x.signal}).then((function(e){if(!e.ok)throw Error("Failed to fetch data for that resource");return e.json()})).then((function(e){n(e),j(!1),h(null)})).catch((function(e){"AbortError"===e.name?console.log("Fetch Aborted"):(j(!1),h(e.message))})),function(){x.abort()}}),[e]),{data:s,isPending:o,error:u}},m=function(e){var t=e.globalData,c=Object(o.g)().branch,s=Object(a.useState)([]),n=Object(l.a)(s,2),r=n[0],j=n[1];function d(e,t){return e.year>t.year?1:e.year<t.year?-1:0}return Object(a.useEffect)((function(){var e=Object(x.a)(new Map(t.map((function(e){return[e.year,e]}))).values());e.sort(d),j(e),console.log(r)}),[]),Object(b.jsx)("div",{children:r&&Object(b.jsxs)("article",{children:[Object(b.jsx)("h2",{style:{color:"white"},children:"Choose Year"}),Object(b.jsx)("div",{className:"cards cards-crd",children:r.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)(i.b,{to:"/Subjects/".concat(c,"/").concat(e.year),children:Object(b.jsx)("a",{href:e.src,target:"_blank",children:Object(b.jsx)("div",{className:"card card-crd",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("h2",{className:"card-title",children:e.year})})})})})})}))})]})})},p=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsx)("div",{className:"container text-center text-md-left mt-5",children:Object(b.jsxs)("div",{className:"row mt-3",children:[Object(b.jsxs)("div",{className:"col-md-3 col-lg-4 col-xl-3 mx-auto mb-4",children:[Object(b.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"Company name"}),Object(b.jsx)("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(b.jsx)("p",{children:"Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet, consectetur adipisicing elit."})]}),Object(b.jsxs)("div",{className:"col-md-2 col-lg-2 col-xl-2 mx-auto mb-4",children:[Object(b.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"Products"}),Object(b.jsx)("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"MDBootstrap"})}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"MDWordPress"})}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"BrandFlow"})}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"Bootstrap Angular"})})]}),Object(b.jsxs)("div",{className:"col-md-3 col-lg-2 col-xl-2 mx-auto mb-4",children:[Object(b.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"Useful links"}),Object(b.jsx)("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"Your Account"})}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"Become an Affiliate"})}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"Shipping Rates"})}),Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"#!",children:"Help"})})]}),Object(b.jsxs)("div",{className:"col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4",children:[Object(b.jsx)("h6",{className:"text-uppercase font-weight-bold",children:"Contact"}),Object(b.jsx)("hr",{className:"deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto",style:{width:"60px"}}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"fa fa-fw fa-home mr-3"})," New York, NY 10012, US"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"fa fa-fw fa-envelope mr-3"})," info@example.com"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"fa fa-fw fa-phone mr-3"})," + 01 234 567 88"]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("i",{className:"fa fa-fw fa-print mr-3"})," + 01 234 567 89"]})]})]})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"icons",children:[Object(b.jsx)("a",{className:"fb-ic",children:Object(b.jsx)("i",{className:"fa fa-fw fa-facebook fa-2x",children:" "})}),Object(b.jsx)("a",{className:"tw-ic",children:Object(b.jsx)("i",{className:"fa fa-fw fa-twitter fa-2x ",children:" "})}),Object(b.jsx)("a",{className:"gplus-ic",children:Object(b.jsx)("i",{className:"fa fa-fw fa-google fa-2x",children:" "})}),Object(b.jsx)("a",{className:"li-ic",children:Object(b.jsx)("i",{className:"fa fa-fw fa-linkedin fa-2x",children:" "})}),Object(b.jsx)("a",{className:"ins-ic",children:Object(b.jsx)("i",{className:"fa fa-fw fa-instagram fa-2x",children:" "})})]}),Object(b.jsxs)("div",{className:"footer-copyright text-center py-3",children:["\xa9 2020 Copyright |",Object(b.jsx)("a",{href:"https://mdbootstrap.com/",children:" MDBootstrap.com"})]})]})]})})},f=function(e){var t=e.data,c=e.title,s=Object(a.useState)([]),n=Object(l.a)(s,2),r=n[0],o=n[1];function j(e,t){return e.branch>t.branch?1:e.branch<t.branch?-1:0}return Object(a.useEffect)((function(){var e=Object(x.a)(new Map(t.map((function(e){return[e.branch,e]}))).values());console.log(e),e.sort(j),o(e),console.log(r)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{margin:"1rem",color:"white"},children:c}),Object(b.jsx)("div",{className:"cards cards-crd",children:r.map((function(e){return Object(b.jsx)(i.b,{to:"/Resources/".concat(e.branch),children:Object(b.jsx)("div",{className:"card card-crd",children:Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("h5",{className:"card-title",children:e.branch})})})})}))})]})},g=function(e){e.globalData;var t=e.setGlobalData,c=O("/metaData/fetch"),s=c.data,n=c.isPending,r=c.error;return Object(a.useEffect)((function(){t(s)}),[s]),Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)("section",{className:"bgimage",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"RESOURCE BANK"}),Object(b.jsx)("p",{children:"A platform to learn and enhance development"})]})}),Object(b.jsx)("hr",{style:{color:"white",margin:"3rem"}}),r&&Object(b.jsx)("div",{children:r}),n&&Object(b.jsx)("div",{children:"Loading...."}),s&&Object(b.jsx)(f,{data:s,title:"Choose Branch"}),Object(b.jsx)("hr",{style:{color:"white",margin:"3rem"}})]})},v=function(e){var t=e.setProfile,c=Object(a.useState)(""),s=Object(l.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),d=j[0],u=j[1],h=Object(a.useState)(!1),x=Object(l.a)(h,2),O=x[0],m=x[1],p=Object(a.useState)(!0),f=Object(l.a)(p,2),g=f[0],v=f[1],N=Object(a.useState)(!1),y=Object(l.a)(N,2),w=y[0],S=y[1],k=Object(o.f)();console.log(d),console.log(n);return Object(b.jsx)("div",{className:"signup-content",children:Object(b.jsxs)("div",{className:"login-box",children:[Object(b.jsx)("h2",{children:"RESOURCE BANK"}),!g&&Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={username:d,password:n};m(!0),fetch("/credential/user/signup",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){if(200!==e.status)throw new Error("Unauthorized");m(!1),t(!0),k.push("/")})).catch((function(e){m(!1),S(!0)}))},className:"form",children:[Object(b.jsxs)("div",{className:"textbox",children:[Object(b.jsx)("i",{className:"fas fa-envelope"}),Object(b.jsx)("input",{type:"email",placeholder:"Username",required:!0,value:d,onChange:function(e){return u(e.target.value)}})]}),Object(b.jsxs)("div",{className:"textbox",children:[Object(b.jsx)("i",{className:"fas fa-lock"}),Object(b.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:n,onChange:function(e){return r(e.target.value)}})]}),!O&&Object(b.jsxs)("button",{className:"btn btn-outline-success",type:"submit",style:{color:"white"},children:[Object(b.jsx)("i",{className:"fa fa-fw fa-user"}),"SignUp"]}),O&&Object(b.jsxs)("button",{className:"btn btn-outline-success",type:"submit",style:{color:"white"},disabled:!0,children:[Object(b.jsx)("i",{className:"fa fa-fw fa-user"}),"Signing.."]}),w&&Object(b.jsx)("p",{style:{color:"red"},children:"Invalid username or password !"}),Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return v(!0)},children:"Login"})]}),g&&Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={username:d,password:n};console.log(c),m(!0),fetch("/credential/user/signin",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){if(200!==e.status)throw new Error("Unauthorized");m(!1),t(!0),k.push("/")})).catch((function(e){m(!1),S(!0)}))},children:[Object(b.jsxs)("div",{className:"textbox",children:[Object(b.jsx)("i",{className:"fas fa-user"}),Object(b.jsx)("input",{type:"email",placeholder:"Username",required:!0,value:d,onChange:function(e){return u(e.target.value)}})]}),Object(b.jsxs)("div",{className:"textbox",children:[Object(b.jsx)("i",{className:"fas fa-lock"}),Object(b.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:n,onChange:function(e){return r(e.target.value)}})]}),w&&Object(b.jsx)("p",{style:{color:"red"},children:"Invalid username or password !"}),!O&&Object(b.jsxs)("button",{className:"btn btn-outline-success",type:"submit",style:{color:"white"},children:[Object(b.jsx)("i",{className:"fa fa-fw fa-user"}),"Login"]}),O&&Object(b.jsxs)("button",{className:"btn btn-outline-success",type:"submit",style:{color:"white"},disabled:!0,children:[Object(b.jsx)("i",{className:"fa fa-fw fa-user"}),"Loging..."]}),Object(b.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return v(!1)},children:"Create Account"})]})]})})},N=(c(164),function(e){var t=e.globalData,c=e.profile,s=Object(o.g)(),n=s.branch,r=s.year,i=Object(o.f)(),j=Object(a.useState)([]),d=Object(l.a)(j,2),u=d[0],h=d[1];function x(e,t){return e.subject>t.subject?1:e.subject<t.subject?-1:0}Object(a.useEffect)((function(){var e=t.filter((function(e){if(e.year==r&&e.branch==n)return e}));e.sort(x),h(e),console.log(e)}),[]);return Object(b.jsx)("div",{children:u&&Object(b.jsxs)("article",{children:[Object(b.jsx)("h2",{style:{color:"white"},children:"Choose Subject"}),Object(b.jsx)("div",{className:"cards cards-crd",children:u.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"card card-crd",children:[Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("h2",{className:"card-title",children:e.subject})}),Object(b.jsx)("button",{className:"btn",onClick:function(){var t;t=e.subject,!0===c?i.push("/Paper/".concat(n,"/").concat(r,"/").concat(t)):i.push("/User")},children:"DOWNLOAD || UPLOAD"})]})})}))})]})})}),y=c(34),w=c.n(y),S=c(41),k=c(236),C=c(85),D=function(e){var t=e.profile,c=Object(a.useState)([]),s=Object(l.a)(c,2),n=(s[0],s[1],Object(a.useState)([])),r=Object(l.a)(n,2),i=r[0],j=r[1],u=Object(o.g)(),h=u.branch,x=u.year,m=u.subject,p=O("/document/download?year="+x+"&branch="+h+"&subject="+m),f=p.data,g=p.isPending,v=p.error,N=Object(a.useState)(0),y=Object(l.a)(N,2),D=(y[0],y[1]),E=function(){var e=Object(S.a)(w.a.mark((function e(t){var c,a,s,n,r,l,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.onSuccess,a=t.onError,s=t.file,n=t.onProgress,r=new FormData,l={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){var t=Math.floor(e.loaded/e.total*100);D(t),100===t&&setTimeout((function(){return D(0)}),1e3),n({percent:e.loaded/e.total*100})}},r.append("document",s),r.append("branch",h),r.append("year",x),r.append("subject",m),e.prev=7,e.next=10,d.a.post("/document/upload",r,l);case 10:i=e.sent,c("Ok"),console.log("server res: ",i),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(7),console.log("Eroor: ",e.t0),new Error("Some error"),a({err:e.t0});case 20:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[v&&Object(b.jsx)("div",{children:v}),g&&Object(b.jsx)("div",{children:"Loading...."}),t&&f&&Object(b.jsxs)("article",{children:[console.log(f),Object(b.jsx)("h2",{style:{color:"white"},children:"All Subjects"}),Object(b.jsx)("div",{className:"cards Resources-cards",children:f.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("a",{target:"_blank",children:Object(b.jsx)("div",{className:"card Resources-card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h2",{className:"card-title",children:e.subject}),Object(b.jsx)("a",{className:"btn",href:"http://localhost:8000/document/downloaddoc?id=".concat(e._id),download:!0,target:"blank",children:"DOWNLOAD"})]})})})})}))}),Object(b.jsx)("div",{style:{height:"10vh",color:"white",backgroundColor:"black"},children:Object(b.jsx)(k.a.Dragger,{listType:"picture",accept:".pdf",customRequest:E,onChange:function(e){e.file;var t=e.fileList;e.event;j(t)},defaultFileList:i,children:Object(b.jsx)(C.a,{children:"  Upload"})})})]})]})};var E=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(l.a)(n,2),j=(r[0],r[1]),d=Object(a.useState)({}),x=Object(l.a)(d,2),O=x[0],f=x[1];return Object(b.jsx)(i.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(u,{profile:c,setProfile:s}),Object(b.jsxs)(o.c,{children:[Object(b.jsxs)(o.a,{exact:!0,path:"/",children:[Object(b.jsx)(g,{globalData:O,setGlobalData:f}),Object(b.jsx)(h,{})]}),Object(b.jsx)(o.a,{exact:!0,path:"/Resources/:branch",children:Object(b.jsx)(m,{globalData:O})}),Object(b.jsx)(o.a,{exact:!0,path:"/Subjects/:branch/:year",children:Object(b.jsx)(N,{globalData:O,profile:c,setProfile:s})}),c&&Object(b.jsx)(o.a,{exact:!0,path:"/Paper/:branch/:year/:subject",children:Object(b.jsx)(D,{profile:c})}),Object(b.jsx)(o.a,{exact:!0,path:"/User",children:Object(b.jsx)(v,{profile:c,setProfile:s,setUserData:j})})]}),Object(b.jsx)(p,{})]})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,238)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root")),P()}},[[233,1,2]]]);
//# sourceMappingURL=main.abb98aef.chunk.js.map